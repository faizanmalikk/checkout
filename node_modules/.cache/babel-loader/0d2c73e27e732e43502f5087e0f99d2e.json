{"ast":null,"code":"var _jsxFileName = \"/home/faizan/Desktop/AdminPanel-CodeZone1/src/component/Checkout.js\",\n    _s = $RefreshSig$();\n\nimport { useContext, useState, useEffect } from 'react';\nimport { CardNumberElement, CardCvcElement, CardExpiryElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Checkout = () => {\n  _s();\n\n  const [error, seterror] = useState();\n  const [loading, setloading] = useState(false);\n  const stripe = useStripe();\n  const elements = useElements();\n\n  const paymentSubmit = async e => {\n    e.preventDefault();\n    setloading(true);\n    const paymentData = {\n      amount: 400\n    };\n\n    try {\n      const config = {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      };\n      const {\n        data\n      } = await axios.post('http://localhost:4000/api/payment', paymentData, config);\n      const client_secret = data.client_secret;\n      if (!stripe || !elements) return;\n      const result = await stripe.confirmCardPayment(client_secret, {\n        payment_method: {\n          card: elements.getElement(CardNumberElement),\n          billing_details: {\n            name: 'dummyUser',\n            email: 'maliksab656@gmail.com',\n            address: {\n              city: 'dummyCity',\n              country: 'US'\n            }\n          }\n        }\n      });\n\n      if (result.error) {\n        setloading(false);\n        seterror(result.error.message);\n      } else {\n        if (result.paymentIntent.status === 'succeeded') {\n          setloading(false);\n        } else {\n          seterror('There is some issue while processing payment');\n        }\n      }\n    } catch (error) {\n      setloading(false);\n      seterror(error);\n    }\n  };\n\n  console.log(error);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Card Info\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: paymentSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(CardNumberElement, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(CardExpiryElement, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(CardCvcElement, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: [\" \", loading ? 'loading...' : 'pay-400']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Checkout, \"raEGdDMN2d3oRyHegB3NNGCNKzA=\", false, function () {\n  return [useStripe, useElements];\n});\n\n_c = Checkout;\nexport default Checkout;\n\nvar _c;\n\n$RefreshReg$(_c, \"Checkout\");","map":{"version":3,"names":["useContext","useState","useEffect","CardNumberElement","CardCvcElement","CardExpiryElement","useStripe","useElements","axios","Checkout","error","seterror","loading","setloading","stripe","elements","paymentSubmit","e","preventDefault","paymentData","amount","config","headers","data","post","client_secret","result","confirmCardPayment","payment_method","card","getElement","billing_details","name","email","address","city","country","message","paymentIntent","status","console","log"],"sources":["/home/faizan/Desktop/AdminPanel-CodeZone1/src/component/Checkout.js"],"sourcesContent":["import { useContext, useState, useEffect } from 'react';\nimport {\n    CardNumberElement,\n    CardCvcElement,\n    CardExpiryElement,\n    useStripe,\n    useElements,\n} from \"@stripe/react-stripe-js\";\n\nimport axios from 'axios';\n\nconst Checkout = () => {\n\n    const [error, seterror] = useState()\n    const [loading, setloading] = useState(false)\n\n    const stripe = useStripe()\n    const elements = useElements()\n\n    const paymentSubmit = async (e) => {\n\n        e.preventDefault()\n\n        setloading(true)\n\n        const paymentData = {\n            amount: 400,\n            \n        }\n\n        try {\n\n            const config = {\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                }\n            }\n\n            const { data } = await axios.post(\n                'http://localhost:4000/api/payment',\n                paymentData,\n                config\n\n            )\n\n            const client_secret = data.client_secret\n\n            if (!stripe || !elements) return\n\n            const result = await stripe.confirmCardPayment(client_secret, {\n                payment_method: {\n                    card: elements.getElement(CardNumberElement),\n                    billing_details: {\n                        name: 'dummyUser',\n                        email: 'maliksab656@gmail.com',\n                        address: {\n                          city: 'dummyCity',\n                          country: 'US'\n                        }\n                      }\n                }\n            })\n            \n            if (result.error) {\n                setloading(false)\n                seterror(result.error.message)\n            } else {\n                if (result.paymentIntent.status === 'succeeded') {\n                    setloading(false)\n\n                } else {\n                    seterror('There is some issue while processing payment')\n                }\n            }\n\n        } catch (error) {\n            setloading(false)\n            seterror(error)\n\n        }\n\n    }\n   \n    console.log(error)\n\n    return (\n        <>\n\n            <div>Card Info</div>\n            <form onSubmit={paymentSubmit} >\n                <div >\n\n                    <div >\n                        <CardNumberElement />\n                    </div>\n                </div>\n                <div >\n\n                    <div>\n                        <CardExpiryElement />\n                    </div>\n                </div>\n                <div >\n\n                    <div >\n                        <CardCvcElement />\n                    </div>\n                </div>\n\n\n\n\n                <button> {loading ? 'loading...' : 'pay-400'}</button>\n\n\n            </form>\n\n\n        </>\n    )\n}\n\nexport default Checkout"],"mappings":"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"},"metadata":{},"sourceType":"module"}